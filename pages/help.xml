<helpDefinition>
  <title>EC-KVM - Help</title>
  <componentContainer>
    <LINK REL="StyleSheet" HREF="../../plugins/EC-KVM/pluginhelp.css" TYPE="text/css" MEDIA="screen"/>
    <div class="help" >
    
    <h1 class="help">EC-KVM</h1>

    <h2 class="help">Overview</h2>
        <p class="help">
        KVM (for Kernel-based Virtual Machine) is a full virtualization solution for Linux on x86 hardware with virtualization extensions (Intel VT or AMD-V). KVM consists of a loadable kernel module, kvm.ko, which provides the core virtualization infrastructure and a processor-specific module, kvm-intel.ko or kvm-amd.ko. KVM also requires a modified QEMU.
        
        This plugin uses the virtualization API libvirt, and command-line tools such as virt-install, virt-clone, virt-image, and virsh to accomplish  tasks, which means you must install these packages.
        </p>
        
    <p class="help">
       <b>Supported KVM version</b><br/>
       This plugin was developed and tested with KVM kernel 2.6.32.<br/>
       Packages:
       <ul>
            <li>qemu-kvm 0.12.1.2-2.160</li>                         
            <li>qemu-kvm-tools 0.12.1.2-2</li>   
            <li>libvirt 0.8.7</li>       
            <li>virtinst 0.500.6</li>         
        </ul>
    </p>    
    
    <h2 class="help">Configuration</h2>
    <p class="help">
    You do not need to configure the plugin before using it.
    </p>    
        
    <h2 class="help">Using the Plugin</h2>
    <p class="help">
        See the <a href="/commander/link/showHelp?page=plugins&amp;section=using">Commander online help system</a> for details about how to use this plugin within a procedure.
        </p>
        
        <p class="help">
        When you provide information for this plugin, fill-in the fields as follows:
        </p>
        
        <p class="help">
        The Cleanup subprocedure deletes ElectricCommander resources and optionally undefines the virtual machines on the KVM server. 
        Cleanup has the following fields:
        <ul>
        <li><b>kvm_vmname</b> - Provide the name of the virtual machine to clean up.</li>
        <li><b>kvm_delete_vm</b> - If checked, the virtual machine will be undefined.</li>
        <li><b>kvm_number_of_vms</b> - Indicate the number of virtual machines to clean up. The default is 1. If the value is greater than 1, a suffix is added to VM names. The suffix consists of an underscore and the VM number ('_#').</li>      
        <li><b>kvm_timeout</b> - Specify the step execution timeout length in minutes. Leave blank for no timeout.</li>
        </ul>
        </p>
        
        <p class="help">
        The Clone subprocedure creates one or more clones of a virtual machine.
        Clone has the following fields:
        <ul>
            <li><b>kvm_original_vmname</b> - Provide the name of the virtual machine to clone.</li>
            <li><b>kvm_vmname</b> - Name the virtual machine that will be created.</li>            
            <li><b>kvm_number_of_clones</b> - Indicate the number of clones to create. The default is 1. If the value is greater than 1, a suffix is added to cloned VM names. The suffix consists of an underscore and the clone number ('_#').</li>            
            <li><b>kvm_timeout</b> - Specify the step execution timeout length in minutes. Leave blank for no timeout.</li>
        </ul>
        </p>        

        <p class="help">
        The Create subprocedure creates virtual machines on the KVM server.
        Create has the following fields:
        <ul>
            <li><b>kvm_vmname</b> - Provide the name the virtual machine to be created.</li>
            <li><b>kvm_storage_method</b> - Select a storage method to use. The default is 'pool'.</li>
            <li><b>kvm_pool_name</b> - Provide the name of the storage pool to use if the storage method selected is 'pool'</li>
            <li><b>kvm_device_type</b> - Provide the type of the device to use if the storage method selected is 'pool'. The default is 'disk'.</li>
            <li><b>kvm_disk_path</b> - Provide the path of the virtual disk to use if the storage method selected is 'diskfile'.</li>        
            <li><b>kvm_disk_format</b> - Select the format of the storage. The default is 'qcow2'. If you use the 'diskfile' storage method, some formats will not work (use 'raw').</li>
            <li><b>kvm_disksize</b> - Indicate the capacity of the virtual disk (in GB). The default is 4.</li>
            <li><b>kvm_memory</b> - Indicate the size of the virtual machine's memory (in MB). The default is 512.</li>
            <li><b>kvm_num_cpus</b> - Indicate the number of virtual processors in a virtual machine. The default is 1.</li>    
            <li><b>kvm_cpu_arch</b> - Indicate the CPU architecture of the virtual machine to be created. The default is i386</li>     
            <li><b>kvm_guest_type</b> - Provide the guest operating system type. The default is 'none'.</li>
            <li><b>kvm_install_method</b> - Select the operating system installation method.</li>
            <li><b>kvm_network_type</b> - Select the type of network to use. The default is 'bridge'.</li>
            <li><b>kvm_network</b> - Provide the network name or bridge device name.</li>  
            <li><b>kvm_number_of_vms</b> - Indicate the number of virtual machines to create. The default is 1. If the value is greater than 1, a suffix is added to VM names. The suffix consists of an underscore and the VM number ('_#').</li>
            <li><b>kvm_vnclisten_ip</b> - Provide the host operating system IP address, to listen to for the VNC connection. Blank means the host's address.</li>
            <li><b>kvm_timeout</b> - Specify the step execution timeout length in minutes. Leave blank for no timeout.</li>
        </ul>
        </p>  

        <p class="help">
        The CreateResourceFromVM subprocedure creates an ElectricCommander resource for a virtual machine.
        CreateResourceFromVM has the following fields:
        <ul>
            <li><b>kvm_vmname</b> - Provide the name of the virtual machine from which to get information.</li>
            <li><b>kvm_number_of_vms</b> - Indicate the number of virtual machines from which to get information. The default is 1. If the value is greater than 1, a suffix is added to VM names. The suffix consists of an underscore and the VM number ('_#').</li>
            <li><b>kvm_timeout</b> - Specify the step execution timeout length in minutes. Leave blank for no timeout.</li>
        </ul>
        </p>
        
        <p class="help">
        The Destroy subprocedure immediately terminates the VM. It is the equivalent of ripping the power cord out on a physical machine.
        Destroy has the following fields:
        <ul>
            <li><b>kvm_vmname</b> - Provide the name of the virtual machine to destroy.</li>
            <li><b>kvm_number_of_vms</b> - Indicate the number of virtual machines to destroy. The default is 1. If the value is greater than 1, a suffix is added to VM names. The suffix consists of an underscore and the VM number ('_#').</li>
            <li><b>kvm_timeout</b> - Specify the step execution timeout length in minutes. Leave blank for no timeout.</li>
        </ul>
        </p>
        
        <p class="help">
        The List subprocedure displays the list of virtual machines with a specific state.
        List has the following fields:
        <ul>
            <li><b>kvm_state_list</b> - Select the state of the virtual machines to show.</li>
            <li><b>kvm_timeout</b> - Specify the step execution timeout length in minutes. Leave blank for no timeout.</li>
        </ul>
        </p>
        
        <p class="help">
        The Suspend subprocedure pauses a running virtual machine.
        Suspend has the following fields:
        <ul>
            <li><b>kvm_vmname</b> - Provide the name of the virtual machine to suspend.</li>
            <li><b>kvm_number_of_vms</b> - Indicate the number of virtual machines to suspend. The default is 1. If the value is greater than 1, a suffix is added to VM names. The suffix consists of an underscore and the VM number ('_#').</li>
            <li><b>kvm_timeout</b> - Specify the step execution timeout length in minutes. Leave blank for no timeout.</li>
        </ul>
        </p>
        
        <p class="help">
        The Resume subprocedure moves a virtual machine out of the suspended state.
        Resume has the following fields:
        <ul>
            <li><b>kvm_vmname</b> - Provide the name of the virtual machine to resume.</li>
            <li><b>kvm_number_of_vms</b> - Indicate the number of virtual machines to resume. The default is 1. If the value is greater than 1, a suffix is added to VM names. The suffix consists of an underscore and the VM number ('_#').</li>
            <li><b>kvm_timeout</b> - Specify the step execution timeout length in minutes. Leave blank for no timeout.</li>
        </ul>
        </p>
      
        <p class="help">
        The Snapshot subprocedure creates a snapshot for the specified virtual machine.
        Snapshot has the following fields:
        <ul>
            <li><b>kvm_vmname</b> - Provide the name of the virtual machine whose snapshot will be created.</li>
            <li><b>kvm_snapshot_name</b> - Provide the name of the snapshot to be created.</li>            
            <li><b>kvm_snapshot_desc</b> - Provide the description of the snapshot to be created.</li>        
            <li><b>kvm_timeout</b> - Specify the step execution timeout length in minutes. Leave blank for no timeout.</li>        
        </ul>
        </p>
        
        <p class="help">
        The Revert subprocedure reverts a virtual machine to the specified snapshot.
        Revert has the following fields:
        <ul>
            <li><b>kvm_vmname</b> - Provide the name of the virtual machine.</li>
            <li><b>kvm_snapshot_name</b> - Provide the name of snapshot to revert to.</li>
            <li><b>kvm_timeout</b> - Specify the step execution timeout length in minutes. Leave blank for no timeout.</li>
        </ul>
        </p>

        <p class="help">
        The Shutdown subprocedure gracefully shuts down the specified virtual machine.
        Shutdown has the following fields:
        <ul>
            <li><b>kvm_vmname</b> - Provide the name of the virtual machine to shut down.</li>
            <li><b>kvm_number_of_vms</b> - Indicate the number of virtual machines to shut down. The default is 1. If the value is greater than 1, a suffix is added to VM names. The suffix consists of an underscore and the VM number ('_#').</li>
            <li><b>kvm_timeout</b> - Specify the step execution timeout length in minutes. Leave blank for no timeout.</li>
        </ul>
        </p>

        <p class="help">
        The Start subprocedure starts the specified virtual machine.
        Start has the following fields:
        <ul>
            <li><b>kvm_vmname</b> - Provide the name of the virtual machine to start.</li>
            <li><b>kvm_number_of_vms</b> - Indicate the number of virtual machines to start. The default is 1. If the value is greater than 1, a suffix is added to VM names. The suffix consists of an underscore and the VM number ('_#').</li>
            <li><b>kvm_timeout</b> - Specify the step execution timeout length in minutes. Leave blank for no timeout.</li>
        </ul>
        </p>
        
        <p class="help">
        The Undefine subprocedure deletes the specified virtual machine.
        Undefine has the following fields:
        <ul>
            <li><b>kvm_vmname</b> - Provide the name of the virtual machine to delete.</li>
            <li><b>kvm_number_of_vms</b> - Indicate the number of virtual machines to delete. The default is 1. If the value is greater than 1, a suffix is added to VM names. The suffix consists of an underscore and the VM number ('_#').</li>
            <li><b>kvm_timeout</b> - Specify the step execution timeout length in minutes. Leave blank for no timeout.</li>
        </ul>
        </p>
        
    <h2 class="help">Additional Information</h2>
        <ul>
            <li><a href="http://www.linux-kvm.org/">Kernel Based Virtual Machine home page</a></li>
            <li><a href="http://libvirt.org/">The virtualization API</a></li>
            <li><a href="http://virt-manager.et.redhat.com/">Virtual Machine Manager</a></li>
        </ul>
        
    <h2 class="help">Release Notes</h2>
        
        <h3 class="help">EC-KVM-1.0.0.0</h3>
        <p class="help">
        <ul>
            <li>Created the following procedures: Cleanup, Clone, Create, CreateResourceFromVM, Destroy, List, Suspend, Resume, Snapshot, Revert, Shutdown, Start, and Undefine.</li>
        </ul>
        </p>
        
    </div>
  </componentContainer>
</helpDefinition>
